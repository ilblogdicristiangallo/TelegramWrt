#!/bin/sh

PKG="$1"

# ⚠️ No package name provided
if [ -z "$PKG" ]; then
  echo "⚠️ Please specify a package name: /opkg_install <name>"
  exit 1
fi

# ✅ Check if the package exists in available list
if opkg list | awk '{print $1}' | grep -qx "$PKG"; then
  if opkg install "$PKG" >/dev/null 2>&1; then
    echo "✅ Package '$PKG' installed successfully."
  else
    echo "⚠️ Failed to install package '$PKG'. Check dependencies or storage space."
  fi
else
  echo "❌ Package '$PKG' not found in available repositories."
fi
