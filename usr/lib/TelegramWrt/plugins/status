#!/bin/sh

echo "üõ†Ô∏è TelegramWrt Bot Status:"
echo ""

# Verifica se il processo telegram.sh √® attivo
BOT_PROC=$(ps | grep -v grep | grep telegram.sh)

if [ -n "$BOT_PROC" ]; then
  echo "‚úÖ Bot process is running."
else
  echo "‚ùå Bot process not found."
fi

# Verifica se il file di configurazione esiste
CONFIG="/usr/lib/TelegramWrt/config"
if [ -f "$CONFIG" ]; then
  TOKEN=$(grep token "$CONFIG" | cut -d= -f2)
  CHAT_ID=$(grep chat_id "$CONFIG" | cut -d= -f2)
  OFFSET=$(grep offset "$CONFIG" | cut -d= -f2)

  echo ""
  echo "‚Ä¢ Token: ${TOKEN:+[OK]}"
  echo "‚Ä¢ Chat ID: ${CHAT_ID:+$CHAT_ID}"
  echo "‚Ä¢ Offset: ${OFFSET:-Not set}"
else
  echo "‚ö†Ô∏è Config file not found: $CONFIG"
fi
