#!/bin/sh
# Plugin /start per TelegramWrt â€“ mostra i comandi disponibili

echo "Welcome to TelegramWrt ğŸ‘‹"
echo ""
echo "Available commands:"
echo ""

echo "ğŸ” Security & Access Control"
echo "/ssh_status       â€“ Check if SSH is active and which port is used"
echo "/open_ports       â€“ List open ports and active services"
echo "/firewall_rules   â€“ Show current firewall rules"
echo "/block_ip         â€“ Block a specific IP address"
echo "/mac_watch        â€“ Alert if unknown MAC addresses connect"
echo "/vpn_status       â€“ Show VPN connection status"
echo "/vpn_start        â€“ ğŸ”“ Enable VPN auto-start at boot (no restart)"
echo "/vpn_stop         â€“ ğŸ›‘ Disable VPN auto-start and stop interfaces (with reboot)"
echo ""

echo "ğŸ“¡ Network & Connectivity"
echo "/devices          â€“ List connected devices via DHCP and Wi-Fi"
echo "/wifi_enable      â€“ ğŸ”“ Enable the router's Wi-Fi interface"
echo "/wifi_disable     â€“ ğŸ”’ Disable the router's Wi-Fi interface"
echo "/restart_wifi     â€“ ğŸ”„ Restart the router's Wi-Fi interface (useful to renew wireless connection)"
echo "/restart_wan      â€“ ğŸ”„ Restart the router's WAN interface (renew Internet connection)"
echo "/wan_stop         â€“ ğŸ›‘ Disable the router's WAN interface (stop Internet connection)"
echo "/wifi_status      â€“ Show wireless interface status"
echo "/wan_ip           â€“ Display public IP and gateway"
echo "/ping_sweep       â€“ Scan subnet for active IPs (confirmation only)"
echo "/ping_test        â€“ Run a ping test to external host"
echo "/dns_status       â€“ Show current DNS configuration"
echo "/dhcp_leases      â€“ List active DHCP leases"
echo "/sms_receive      â€“ ğŸ“© Read SMS messages received by the modem (with automatic fallback)"
echo "/sms_delete       â€“ ğŸ—‘ï¸ Delete all SMS messages from modem and SIM memory (automatic port scan)"
echo "/tcpdump_dns      â€“ Capture DNS traffic briefly (only works if DNS is not encrypted)"
echo ""

echo "ğŸ› ï¸ System Diagnostics"
echo "/status           â€“ Show bot status and connection"
echo "/uptime           â€“ Display router uptime"
echo "/cpu_load         â€“ Show CPU load and temperature"
echo "/ram_usage        â€“ Display memory usage"
echo "/disk_space       â€“ Show available disk space"
echo "/log_tail         â€“ Show last system log entries"
echo ""

echo "ğŸ”„ Management & Automation"
echo "/reboot           â€“ Reboot the router"
echo "/restart_bot      â€“ Restart the Telegram bot"
echo "/update_bot       â€“ Update bot script from remote source"
echo "/backup_config    â€“ Backup OpenWrt configuration"
echo "/restore_config   â€“ Restore configuration from backup"
echo ""

echo "ğŸ›ï¸ Utilities & Customization"
echo "/start            â€“ Show this command list"
echo "/help             â€“ Extended command descriptions"
echo "/opkg_installed   â€“ ğŸ“¦ List installed packages (names only)"
echo "/opkg_update      â€“ ğŸ“¦ Update package repositories"
echo "/opkg_install     â€“ ğŸ“¥ Install a package from repository by name"
echo "/opkg_remove      â€“ ğŸ—‘ï¸ Remove an installed package by name"
